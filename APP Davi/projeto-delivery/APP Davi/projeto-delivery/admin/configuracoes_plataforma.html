<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PedidoF√°cil - Configura√ß√µes da Plataforma</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; color: #333; }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 20px 0; position: sticky; top: 0; z-index: 100;
        }
        .header-content {
            max-width: 1400px; margin: 0 auto; padding: 0 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .back-btn { background: rgba(255,255,255,0.2); border: none; color: white;
            padding: 10px 15px; border-radius: 25px; cursor: pointer; }
        .title { font-size: 1.8rem; font-weight: bold; }
        
        .main { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .config-section { background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 25px; margin-bottom: 20px; }
        .section-title { font-size: 1.3rem; font-weight: 600; margin-bottom: 20px; color: #333;
            display: flex; align-items: center; gap: 10px; }
        
        .config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .config-item { display: flex; flex-direction: column; }
        .config-label { margin-bottom: 8px; color: #333; font-weight: 600; }
        .config-input { padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; }
        .config-input:focus { outline: none; border-color: #667eea; }
        .config-select { padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; }
        .config-textarea { padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; resize: vertical; min-height: 100px; }
        
        .toggle-group { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .toggle-switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px;
            background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #667eea; }
        input:checked + .slider:before { transform: translateX(26px); }
        
        .save-btn { background: #28a745; color: white; border: none; padding: 15px 30px;
            border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px; margin-top: 20px; }
        .save-btn:disabled { background: #6c757d; cursor: not-allowed; }
        
        .message { position: fixed; top: 20px; right: 20px; z-index: 1000; padding: 15px 20px;
            border-radius: 10px; color: white; font-weight: 600; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .message.success { background: #28a745; }
        .message.error { background: #dc3545; }
        
        .info-card { background: #e3f2fd; border: 1px solid #bbdefb; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
        .info-card h4 { color: #1976d2; margin-bottom: 8px; }
        .info-card p { color: #424242; font-size: 0.9rem; }
        
        .danger-zone { background: #ffebee; border: 1px solid #ffcdd2; border-radius: 8px; padding: 20px; margin-top: 20px; }
        .danger-zone h4 { color: #c62828; margin-bottom: 15px; }
        .danger-btn { background: #dc3545; color: white; border: none; padding: 10px 20px;
            border-radius: 6px; cursor: pointer; font-weight: 600; margin-right: 10px; }
        
        @media (max-width: 768px) { .config-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <button class="back-btn" onclick="voltarParaHome()">‚Üê Voltar</button>
            <div class="title">‚öôÔ∏è Configura√ß√µes da Plataforma</div>
        </div>
    </header>

    <main class="main">
        <div class="config-section">
            <h2 class="section-title">üí∞ Configura√ß√µes de Taxas</h2>
            <div class="info-card">
                <h4>‚ÑπÔ∏è Informa√ß√µes sobre Taxas</h4>
                <p>Configure as taxas padr√£o que ser√£o aplicadas a todos os pedidos da plataforma. Estas configura√ß√µes afetam diretamente a receita da plataforma e dos parceiros.</p>
            </div>
            
            <div class="config-grid">
                <div class="config-item">
                    <label class="config-label">Taxa Restaurante (R$)</label>
                    <input type="number" class="config-input" id="taxa-restaurante" min="0" step="0.01" placeholder="1.00">
                    <small>Taxa fixa cobrada por pedido para restaurantes</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Taxa Entregador (R$)</label>
                    <input type="number" class="config-input" id="taxa-entregador" min="0" step="0.01" placeholder="1.00">
                    <small>Taxa fixa cobrada por entrega para entregadores</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Taxa Plataforma (R$)</label>
                    <input type="number" class="config-input" id="taxa-plataforma" min="0" step="0.01" placeholder="2.00">
                    <small>Taxa fixa cobrada por pedido entregue para a plataforma</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Taxa M√≠nima de Entrega (R$)</label>
                    <input type="number" class="config-input" id="taxa-minima-entrega" min="0" step="0.01" placeholder="5.00">
                    <small>Valor m√≠nimo para cobrar taxa de entrega</small>
                </div>
            </div>
        </div>

        <div class="config-section">
            <h2 class="section-title">üì± Configura√ß√µes de Notifica√ß√µes</h2>
            <div class="info-card">
                <h4>‚ÑπÔ∏è Sistema de Notifica√ß√µes</h4>
                <p>Configure como a plataforma deve notificar usu√°rios sobre eventos importantes como novos pedidos, atualiza√ß√µes de status e promo√ß√µes.</p>
            </div>
            
            <div class="config-grid">
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Notifica√ß√µes Push</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="notif-push">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Ativar notifica√ß√µes push para dispositivos m√≥veis</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Notifica√ß√µes por Email</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="notif-email">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Enviar notifica√ß√µes por email para usu√°rios</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Notifica√ß√µes SMS</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="notif-sms">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Enviar notifica√ß√µes por SMS (requer integra√ß√£o)</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Notifica√ß√µes de Promo√ß√µes</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="notif-promocoes">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Enviar notifica√ß√µes sobre promo√ß√µes e ofertas</small>
                </div>
            </div>
        </div>

        <div class="config-section">
            <h2 class="section-title">üîí Configura√ß√µes de Seguran√ßa</h2>
            <div class="info-card">
                <h4>‚ÑπÔ∏è Pol√≠ticas de Seguran√ßa</h4>
                <p>Configure as pol√≠ticas de seguran√ßa da plataforma, incluindo autentica√ß√£o, senhas e prote√ß√£o de dados.</p>
            </div>
            
            <div class="config-grid">
                <div class="config-item">
                    <label class="config-label">Tamanho M√≠nimo de Senha</label>
                    <select class="config-select" id="tamanho-senha">
                        <option value="6">6 caracteres</option>
                        <option value="8">8 caracteres</option>
                        <option value="10">10 caracteres</option>
                        <option value="12">12 caracteres</option>
                    </select>
                    <small>Tamanho m√≠nimo exigido para senhas de usu√°rios</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Tempo de Sess√£o (minutos)</label>
                    <input type="number" class="config-input" id="tempo-sessao" min="15" max="1440" placeholder="60">
                    <small>Tempo m√°ximo de inatividade antes do logout autom√°tico</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Autentica√ß√£o em Duas Etapas</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auth-duas-etapas">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Exigir autentica√ß√£o em duas etapas para administradores</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Log de Atividades</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="log-atividades">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Registrar todas as atividades administrativas</small>
                </div>
            </div>
        </div>

        <div class="config-section">
            <h2 class="section-title">üåê Configura√ß√µes Gerais</h2>
            <div class="info-card">
                <h4>‚ÑπÔ∏è Configura√ß√µes da Plataforma</h4>
                <p>Configure aspectos gerais da plataforma como nome, descri√ß√£o, hor√°rio de funcionamento e pol√≠ticas.</p>
            </div>
            
            <div class="config-grid">
                <div class="config-item">
                    <label class="config-label">Nome da Plataforma</label>
                    <input type="text" class="config-input" id="nome-plataforma" placeholder="PedidoF√°cil">
                    <small>Nome exibido para usu√°rios</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Descri√ß√£o da Plataforma</label>
                    <textarea class="config-textarea" id="descricao-plataforma" placeholder="Descri√ß√£o da plataforma..."></textarea>
                    <small>Descri√ß√£o exibida para usu√°rios</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Fuso Hor√°rio</label>
                    <select class="config-select" id="fuso-horario">
                        <option value="America/Sao_Paulo">Bras√≠lia (GMT-3)</option>
                        <option value="America/Manaus">Manaus (GMT-4)</option>
                        <option value="America/Belem">Bel√©m (GMT-3)</option>
                        <option value="America/Fortaleza">Fortaleza (GMT-3)</option>
                        <option value="America/Recife">Recife (GMT-3)</option>
                        <option value="America/Salvador">Salvador (GMT-3)</option>
                    </select>
                    <small>Fuso hor√°rio padr√£o da plataforma</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Idioma Padr√£o</label>
                    <select class="config-select" id="idioma-padrao">
                        <option value="pt-BR">Portugu√™s (Brasil)</option>
                        <option value="en-US">English (US)</option>
                        <option value="es-ES">Espa√±ol</option>
                    </select>
                    <small>Idioma padr√£o da plataforma</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Hor√°rio de Funcionamento</label>
                    <input type="text" class="config-input" id="horario-funcionamento" placeholder="24h ou 06:00-22:00">
                    <small>Hor√°rio de funcionamento da plataforma</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Suporte por Email</label>
                    <input type="email" class="config-input" id="email-suporte" placeholder="suporte@pedidofacil.com">
                    <small>Email de suporte para usu√°rios</small>
                </div>
            </div>
        </div>

        <div class="config-section">
            <h2 class="section-title">üìä Configura√ß√µes de Relat√≥rios</h2>
            <div class="info-card">
                <h4>‚ÑπÔ∏è Relat√≥rios e Analytics</h4>
                <p>Configure como a plataforma deve gerar e exibir relat√≥rios para administradores e parceiros.</p>
            </div>
            
            <div class="config-grid">
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Relat√≥rios em Tempo Real</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="relatorios-tempo-real">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Atualizar relat√≥rios em tempo real</small>
                </div>
                
                <div class="config-item">
                    <label class="config-label">Frequ√™ncia de Relat√≥rios</label>
                    <select class="config-select" id="freq-relatorios">
                        <option value="diario">Di√°rio</option>
                        <option value="semanal">Semanal</option>
                        <option value="mensal">Mensal</option>
                        <option value="trimestral">Trimestral</option>
                    </select>
                    <small>Frequ√™ncia de gera√ß√£o de relat√≥rios autom√°ticos</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Exportar para Excel</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="exportar-excel">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Permitir exporta√ß√£o de relat√≥rios para Excel</small>
                </div>
                
                <div class="config-item">
                    <div class="toggle-group">
                        <label class="config-label">Relat√≥rios para Parceiros</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="relatorios-parceiros">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <small>Permitir que parceiros acessem relat√≥rios</small>
                </div>
            </div>
        </div>

        <div class="config-section">
            <button class="save-btn" id="save-btn" onclick="salvarConfiguracoes()">üíæ Salvar Todas as Configura√ß√µes</button>
        </div>

        <div class="config-section">
            <div class="danger-zone">
                <h4>‚ö†Ô∏è Zona de Perigo</h4>
                <p>Estas a√ß√µes s√£o irrevers√≠veis e podem afetar toda a plataforma.</p>
                <button class="danger-btn" onclick="resetarConfiguracoes()">üîÑ Resetar Configura√ß√µes</button>
                <button class="danger-btn" onclick="limparCache()">üóëÔ∏è Limpar Cache</button>
                <button class="danger-btn" onclick="manutencaoPlataforma()">üîß Modo Manuten√ß√£o</button>
            </div>
        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "sua-api-key", authDomain: "seu-projeto.firebaseapp.com",
            projectId: "seu-projeto", storageBucket: "seu-projeto.appspot.com",
            messagingSenderId: "123456789", appId: "seu-app-id"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        let currentUser = null;
        let configuracoes = {};
        let dadosOriginais = {};

        document.addEventListener('DOMContentLoaded', function() {
            verificarAutenticacao();
        });

        function verificarAutenticacao() {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    db.collection('usuarios').doc(user.uid).get().then((doc) => {
                        if (doc.exists && doc.data().tipo === 'admin') {
                            currentUser = { uid: user.uid, email: user.email, ...doc.data() };
                            carregarConfiguracoes();
                        } else {
                            window.location.href = 'cadastro_login_admin.html';
                        }
                    });
                } else {
                    window.location.href = 'cadastro_login_admin.html';
                }
            });
        }

        async function carregarConfiguracoes() {
            try {
                const configDoc = await db.collection('configuracoes_plataforma').doc('geral').get();
                
                if (configDoc.exists) {
                    configuracoes = configDoc.data();
                } else {
                    // Criar configura√ß√µes padr√£o
                    configuracoes = {
                        // Taxas
                        taxaRestaurante: 1.00,
                        taxaEntregador: 1.00,
                        taxaPlataforma: 2.00,
                        taxaMinimaEntrega: 5.00,
                        
                        // Notifica√ß√µes
                        notifPush: true,
                        notifEmail: true,
                        notifSMS: false,
                        notifPromocoes: true,
                        
                        // Seguran√ßa
                        tamanhoSenha: 8,
                        tempoSessao: 60,
                        authDuasEtapas: true,
                        logAtividades: true,
                        
                        // Geral
                        nomePlataforma: 'PedidoF√°cil',
                        descricaoPlataforma: 'Plataforma de delivery com taxas fixas e transparentes',
                        fusoHorario: 'America/Sao_Paulo',
                        idiomaPadrao: 'pt-BR',
                        horarioFuncionamento: '24h',
                        emailSuporte: 'suporte@pedidofacil.com',
                        
                        // Relat√≥rios
                        relatoriosTempoReal: true,
                        freqRelatorios: 'diario',
                        exportarExcel: true,
                        relatoriosParceiros: true,
                        
                        dataAtualizacao: new Date()
                    };
                    
                    await db.collection('configuracoes_plataforma').doc('geral').set(configuracoes);
                }
                
                dadosOriginais = { ...configuracoes };
                preencherFormulario();
                
            } catch (error) {
                console.error('Erro ao carregar configura√ß√µes:', error);
                mostrarMensagem('Erro ao carregar configura√ß√µes', 'error');
            }
        }

        function preencherFormulario() {
            // Taxas
            document.getElementById('taxa-restaurante').value = configuracoes.taxaRestaurante || 1.00;
            document.getElementById('taxa-entregador').value = configuracoes.taxaEntregador || 1.00;
            document.getElementById('taxa-plataforma').value = configuracoes.taxaPlataforma || 2.00;
            document.getElementById('taxa-minima-entrega').value = configuracoes.taxaMinimaEntrega || 5.00;
            
            // Notifica√ß√µes
            document.getElementById('notif-push').checked = configuracoes.notifPush || false;
            document.getElementById('notif-email').checked = configuracoes.notifEmail || false;
            document.getElementById('notif-sms').checked = configuracoes.notifSMS || false;
            document.getElementById('notif-promocoes').checked = configuracoes.notifPromocoes || false;
            
            // Seguran√ßa
            document.getElementById('tamanho-senha').value = configuracoes.tamanhoSenha || 8;
            document.getElementById('tempo-sessao').value = configuracoes.tempoSessao || 60;
            document.getElementById('auth-duas-etapas').checked = configuracoes.authDuasEtapas || false;
            document.getElementById('log-atividades').checked = configuracoes.logAtividades || false;
            
            // Geral
            document.getElementById('nome-plataforma').value = configuracoes.nomePlataforma || 'PedidoF√°cil';
            document.getElementById('descricao-plataforma').value = configuracoes.descricaoPlataforma || '';
            document.getElementById('fuso-horario').value = configuracoes.fusoHorario || 'America/Sao_Paulo';
            document.getElementById('idioma-padrao').value = configuracoes.idiomaPadrao || 'pt-BR';
            document.getElementById('horario-funcionamento').value = configuracoes.horarioFuncionamento || '24h';
            document.getElementById('email-suporte').value = configuracoes.emailSuporte || '';
            
            // Relat√≥rios
            document.getElementById('relatorios-tempo-real').checked = configuracoes.relatoriosTempoReal || false;
            document.getElementById('freq-relatorios').value = configuracoes.freqRelatorios || 'diario';
            document.getElementById('exportar-excel').checked = configuracoes.exportarExcel || false;
            document.getElementById('relatorios-parceiros').checked = configuracoes.relatoriosParceiros || false;
        }

        async function salvarConfiguracoes() {
            const btn = document.getElementById('save-btn');
            btn.disabled = true;
            btn.textContent = 'üîÑ Salvando...';
            
            try {
                const novasConfiguracoes = {
                    // Taxas
                    taxaRestaurante: parseFloat(document.getElementById('taxa-restaurante').value) || 1.00,
                    taxaEntregador: parseFloat(document.getElementById('taxa-entregador').value) || 1.00,
                    taxaPlataforma: parseFloat(document.getElementById('taxa-plataforma').value) || 2.00,
                    taxaMinimaEntrega: parseFloat(document.getElementById('taxa-minima-entrega').value) || 5.00,
                    
                    // Notifica√ß√µes
                    notifPush: document.getElementById('notif-push').checked,
                    notifEmail: document.getElementById('notif-email').checked,
                    notifSMS: document.getElementById('notif-sms').checked,
                    notifPromocoes: document.getElementById('notif-promocoes').checked,
                    
                    // Seguran√ßa
                    tamanhoSenha: parseInt(document.getElementById('tamanho-senha').value) || 8,
                    tempoSessao: parseInt(document.getElementById('tempo-sessao').value) || 60,
                    authDuasEtapas: document.getElementById('auth-duas-etapas').checked,
                    logAtividades: document.getElementById('log-atividades').checked,
                    
                    // Geral
                    nomePlataforma: document.getElementById('nome-plataforma').value || 'PedidoF√°cil',
                    descricaoPlataforma: document.getElementById('descricao-plataforma').value || '',
                    fusoHorario: document.getElementById('fuso-horario').value || 'America/Sao_Paulo',
                    idiomaPadrao: document.getElementById('idioma-padrao').value || 'pt-BR',
                    horarioFuncionamento: document.getElementById('horario-funcionamento').value || '24h',
                    emailSuporte: document.getElementById('email-suporte').value || '',
                    
                    // Relat√≥rios
                    relatoriosTempoReal: document.getElementById('relatorios-tempo-real').checked,
                    freqRelatorios: document.getElementById('freq-relatorios').value || 'diario',
                    exportarExcel: document.getElementById('exportar-excel').checked,
                    relatoriosParceiros: document.getElementById('relatorios-parceiros').checked,
                    
                    dataAtualizacao: new Date()
                };
                
                await db.collection('configuracoes_plataforma').doc('geral').set(novasConfiguracoes);
                
                configuracoes = { ...novasConfiguracoes };
                dadosOriginais = { ...novasConfiguracoes };
                
                mostrarMensagem('Configura√ß√µes salvas com sucesso!', 'success');
                
            } catch (error) {
                console.error('Erro ao salvar configura√ß√µes:', error);
                mostrarMensagem('Erro ao salvar configura√ß√µes: ' + error.message, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'üíæ Salvar Todas as Configura√ß√µes';
            }
        }

        async function resetarConfiguracoes() {
            if (!confirm('Tem certeza que deseja resetar todas as configura√ß√µes para os valores padr√£o? Esta a√ß√£o n√£o pode ser desfeita.')) {
                return;
            }
            
            try {
                await db.collection('configuracoes_plataforma').doc('geral').delete();
                await carregarConfiguracoes();
                mostrarMensagem('Configura√ß√µes resetadas para os valores padr√£o!', 'success');
                
            } catch (error) {
                console.error('Erro ao resetar configura√ß√µes:', error);
                mostrarMensagem('Erro ao resetar configura√ß√µes', 'error');
            }
        }

        async function limparCache() {
            if (!confirm('Tem certeza que deseja limpar o cache da plataforma? Isso pode afetar temporariamente o desempenho.')) {
                return;
            }
            
            try {
                // Implementar l√≥gica de limpeza de cache
                mostrarMensagem('Cache limpo com sucesso!', 'success');
                
            } catch (error) {
                console.error('Erro ao limpar cache:', error);
                mostrarMensagem('Erro ao limpar cache', 'error');
            }
        }

        async function manutencaoPlataforma() {
            if (!confirm('Ativar modo de manuten√ß√£o? A plataforma ficar√° indispon√≠vel para usu√°rios.')) {
                return;
            }
            
            try {
                const modoManutencao = !configuracoes.modoManutencao;
                
                await db.collection('configuracoes_plataforma').doc('geral').update({
                    modoManutencao: modoManutencao,
                    dataAtualizacao: new Date()
                });
                
                configuracoes.modoManutencao = modoManutencao;
                
                const mensagem = modoManutencao ? 
                    'Modo de manuten√ß√£o ativado!' : 'Modo de manuten√ß√£o desativado!';
                mostrarMensagem(mensagem, 'success');
                
            } catch (error) {
                console.error('Erro ao alterar modo de manuten√ß√£o:', error);
                mostrarMensagem('Erro ao alterar modo de manuten√ß√£o', 'error');
            }
        }

        function mostrarMensagem(texto, tipo) {
            const mensagem = document.createElement('div');
            mensagem.className = `message ${tipo}`;
            mensagem.textContent = texto;
            
            document.body.appendChild(mensagem);
            
            setTimeout(() => {
                if (mensagem.parentNode) {
                    mensagem.remove();
                }
            }, 3000);
        }

        function voltarParaHome() {
            window.location.href = 'home_admin.html';
        }
    </script>
</body>
</html>
