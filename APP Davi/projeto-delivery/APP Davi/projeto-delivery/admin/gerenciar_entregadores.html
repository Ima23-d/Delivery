<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PedidoF√°cil - Gerenciar Entregadores</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; color: #333; }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 20px 0; position: sticky; top: 0; z-index: 100;
        }
        .header-content {
            max-width: 1400px; margin: 0 auto; padding: 0 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .back-btn { background: rgba(255,255,255,0.2); border: none; color: white;
            padding: 10px 15px; border-radius: 25px; cursor: pointer; }
        .title { font-size: 1.8rem; font-weight: bold; }
        
        .main { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .filtros { background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20px; margin-bottom: 20px; }
        .filtros-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .filtro-item { display: flex; flex-direction: column; }
        .filtro-label { margin-bottom: 8px; color: #333; font-weight: 600; }
        .filtro-input { padding: 10px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; }
        .aplicar-filtros { background: #667eea; color: white; border: none; padding: 12px 20px;
            border-radius: 8px; cursor: pointer; font-weight: 600; margin-top: 20px; }
        
        .stats-overview { background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 25px; margin-bottom: 20px; }
        .overview-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .overview-card { background: #f8f9fa; border-radius: 10px; padding: 20px; text-align: center; }
        .overview-value { font-size: 1.8rem; font-weight: bold; color: #667eea; margin-bottom: 8px; }
        
        .deliverers-container { background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 25px; margin-bottom: 20px; }
        .deliverers-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .add-deliverer-btn { background: #28a745; color: white; border: none; padding: 10px 20px;
            border-radius: 8px; cursor: pointer; font-weight: 600; }
        
        .deliverer-item { border: 1px solid #e1e5e9; border-radius: 10px; padding: 20px; margin-bottom: 15px; }
        .deliverer-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .deliverer-status { padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .status-disponivel { background: #d4edda; color: #155724; }
        .status-indisponivel { background: #f8d7da; color: #721c24; }
        .status-ativo { background: #d4edda; color: #155724; }
        .status-inativo { background: #f8d7da; color: #721c24; }
        
        .deliverer-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px; }
        .detail-group h5 { color: #333; margin-bottom: 5px; font-size: 0.9rem; font-weight: 600; }
        .detail-group p { color: #666; font-size: 0.8rem; }
        
        .deliverer-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .action-btn { padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.8rem; font-weight: 600; }
        .btn-edit { background: #17a2b8; color: white; }
        .btn-suspend { background: #ffc107; color: #212529; }
        .btn-activate { background: #28a745; color: white; }
        .btn-delete { background: #dc3545; color: white; }
        
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: white; margin: 5% auto; padding: 25px; border-radius: 15px;
            width: 90%; max-width: 700px; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .close { color: #aaa; font-size: 28px; font-weight: bold; cursor: pointer; }
        
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .form-input { width: 100%; padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 14px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        
        .modal-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
        .btn { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .btn-primary { background: #667eea; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        
        .message { position: fixed; top: 20px; right: 20px; z-index: 1000; padding: 15px 20px;
            border-radius: 10px; color: white; font-weight: 600; }
        .message.success { background: #28a745; }
        .message.error { background: #dc3545; }
        
        @media (max-width: 768px) { .filtros-grid { grid-template-columns: 1fr; }
            .overview-grid { grid-template-columns: 1fr; } .deliverer-details { grid-template-columns: 1fr; }
            .form-row { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <button class="back-btn" onclick="voltarParaHome()">‚Üê Voltar</button>
            <div class="title">üöö Gerenciar Entregadores</div>
        </div>
    </header>

    <main class="main">
        <div class="filtros">
            <div class="filtros-grid">
                <div class="filtro-item">
                    <label class="filtro-label">Status</label>
                    <select class="filtro-input" id="filtro-status">
                        <option value="">Todos os status</option>
                        <option value="ativo">Ativo</option>
                        <option value="inativo">Inativo</option>
                        <option value="disponivel">Dispon√≠vel</option>
                        <option value="indisponivel">Indispon√≠vel</option>
                    </select>
                </div>
                
                <div class="filtro-item">
                    <label class="filtro-label">Ve√≠culo</label>
                    <select class="filtro-input" id="filtro-veiculo">
                        <option value="">Todos os ve√≠culos</option>
                        <option value="moto">Moto</option>
                        <option value="carro">Carro</option>
                        <option value="bicicleta">Bicicleta</option>
                    </select>
                </div>
                
                <div class="filtro-item">
                    <label class="filtro-label">Buscar</label>
                    <input type="text" class="filtro-input" id="filtro-busca" placeholder="Nome, email ou CPF">
                </div>
                
                <div class="filtro-item">
                    <label class="filtro-label">Ordenar por</label>
                    <select class="filtro-input" id="filtro-ordenacao">
                        <option value="dataCadastro">Data de Cadastro</option>
                        <option value="nome">Nome</option>
                        <option value="avaliacao">Avalia√ß√£o</option>
                        <option value="totalEntregas">Total de Entregas</option>
                    </select>
                </div>
            </div>
            
            <button class="aplicar-filtros" onclick="aplicarFiltros()">üîç Aplicar Filtros</button>
        </div>

        <div class="stats-overview">
            <div class="overview-title">üìä Vis√£o Geral dos Entregadores</div>
            <div class="overview-grid" id="overview-grid">
                <div class="loading">Carregando estat√≠sticas...</div>
            </div>
        </div>

        <div class="deliverers-container">
            <div class="deliverers-header">
                <h2 class="deliverers-title">üöö Lista de Entregadores</h2>
                <button class="add-deliverer-btn" onclick="abrirModalEntregador()">‚ûï Adicionar Entregador</button>
            </div>
            
            <div id="deliverers-container">
                <div class="loading">Carregando entregadores...</div>
            </div>
        </div>
    </main>

    <!-- Modal para Adicionar/Editar Entregador -->
    <div id="delivererModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Adicionar Entregador</h3>
                <span class="close" onclick="fecharModal()">&times;</span>
            </div>
            
            <form id="delivererForm" onsubmit="salvarEntregador(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Nome</label>
                        <input type="text" class="form-input" id="modal-nome" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="modal-email" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Telefone</label>
                        <input type="tel" class="form-input" id="modal-telefone" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">CPF</label>
                        <input type="text" class="form-input" id="modal-cpf" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Ve√≠culo</label>
                        <select class="form-input" id="modal-veiculo" required>
                            <option value="">Selecione o ve√≠culo</option>
                            <option value="moto">Moto</option>
                            <option value="carro">Carro</option>
                            <option value="bicicleta">Bicicleta</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-input" id="modal-status" required>
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Endere√ßo</label>
                    <input type="text" class="form-input" id="modal-endereco" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Senha</label>
                        <input type="password" class="form-input" id="modal-senha" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirmar Senha</label>
                        <input type="password" class="form-input" id="modal-confirmar-senha" required>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="fecharModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary" id="saveBtn">üíæ Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "sua-api-key", authDomain: "seu-projeto.firebaseapp.com",
            projectId: "seu-projeto", storageBucket: "seu-projeto.appspot.com",
            messagingSenderId: "123456789", appId: "seu-app-id"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        let currentUser = null;
        let entregadores = [];
        let entregadoresFiltrados = [];
        let entregadorEditando = null;
        let unsubscribeEntregadores = null;

        document.addEventListener('DOMContentLoaded', function() {
            verificarAutenticacao();
        });

        function verificarAutenticacao() {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    db.collection('usuarios').doc(user.uid).get().then((doc) => {
                        if (doc.exists && doc.data().tipo === 'admin') {
                            currentUser = { uid: user.uid, email: user.email, ...doc.data() };
                            carregarDados();
                        } else {
                            window.location.href = 'cadastro_login_admin.html';
                        }
                    });
                } else {
                    window.location.href = 'cadastro_login_admin.html';
                }
            });
        }

        async function carregarDados() {
            try {
                await carregarEntregadores();
                await carregarEstatisticas();
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
            }
        }

        async function carregarEntregadores() {
            if (unsubscribeEntregadores) {
                unsubscribeEntregadores();
            }

            unsubscribeEntregadores = db.collection('entregadores')
                .orderBy('dataCadastro', 'desc')
                .onSnapshot((snapshot) => {
                    entregadores = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    aplicarFiltros();
                }, (error) => {
                    console.error('Erro ao carregar entregadores:', error);
                });
        }

        async function carregarEstatisticas() {
            try {
                const totalEntregadores = entregadores.length;
                const entregadoresAtivos = entregadores.filter(e => e.ativo).length;
                const entregadoresDisponiveis = entregadores.filter(e => e.disponivel).length;
                const mediaAvaliacao = entregadores.length > 0 ? 
                    entregadores.reduce((sum, e) => sum + (e.avaliacao || 0), 0) / entregadores.length : 0;
                const totalEntregas = entregadores.reduce((sum, e) => sum + (e.totalEntregas || 0), 0);
                const totalGanhos = entregadores.reduce((sum, e) => sum + (e.totalGanhos || 0), 0);
                
                const overviewGrid = document.getElementById('overview-grid');
                overviewGrid.innerHTML = `
                    <div class="overview-card">
                        <div class="overview-value">${totalEntregadores}</div>
                        <div class="overview-label">Total de Entregadores</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-value">${entregadoresAtivos}</div>
                        <div class="overview-label">Entregadores Ativos</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-value">${entregadoresDisponiveis}</div>
                        <div class="overview-label">Dispon√≠veis</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-value">${mediaAvaliacao.toFixed(1)}</div>
                        <div class="overview-label">Avalia√ß√£o M√©dia</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-value">${totalEntregas}</div>
                        <div class="overview-label">Total de Entregas</div>
                    </div>
                    <div class="overview-card">
                        <div class="overview-value">R$ ${totalGanhos.toFixed(2)}</div>
                        <div class="overview-label">Total de Ganhos</div>
                    </div>
                `;
            } catch (error) {
                console.error('Erro ao carregar estat√≠sticas:', error);
            }
        }

        function aplicarFiltros() {
            const status = document.getElementById('filtro-status').value;
            const veiculo = document.getElementById('filtro-veiculo').value;
            const busca = document.getElementById('filtro-busca').value.toLowerCase();
            const ordenacao = document.getElementById('filtro-ordenacao').value;
            
            let entregadoresFiltradosTemp = entregadores;
            
            if (status) {
                entregadoresFiltradosTemp = entregadoresFiltradosTemp.filter(e => e.status === status);
            }
            
            if (veiculo) {
                entregadoresFiltradosTemp = entregadoresFiltradosTemp.filter(e => e.veiculo === veiculo);
            }
            
            if (busca) {
                entregadoresFiltradosTemp = entregadoresFiltradosTemp.filter(e => 
                    e.nome?.toLowerCase().includes(busca) ||
                    e.email?.toLowerCase().includes(busca) ||
                    e.cpf?.includes(busca)
                );
            }
            
            entregadoresFiltradosTemp.sort((a, b) => {
                switch (ordenacao) {
                    case 'nome': return (a.nome || '').localeCompare(b.nome || '');
                    case 'avaliacao': return (b.avaliacao || 0) - (a.avaliacao || 0);
                    case 'totalEntregas': return (b.totalEntregas || 0) - (a.totalEntregas || 0);
                    default: return (b.dataCadastro || 0) - (a.dataCadastro || 0);
                }
            });
            
            entregadoresFiltrados = entregadoresFiltradosTemp;
            exibirEntregadores();
        }

        function exibirEntregadores() {
            const container = document.getElementById('deliverers-container');
            
            if (entregadoresFiltrados.length === 0) {
                container.innerHTML = '<div class="no-data">Nenhum entregador encontrado</div>';
                return;
            }
            
            container.innerHTML = entregadoresFiltrados.map(entregador => `
                <div class="deliverer-item">
                    <div class="deliverer-header">
                        <div class="deliverer-info">
                            <h4>${entregador.nome || 'Nome n√£o informado'}</h4>
                            <p>üìß ${entregador.email}</p>
                            <p>üì± ${entregador.telefone || 'Telefone n√£o informado'}</p>
                            <p>üöó ${getVeiculoNome(entregador.veiculo)}</p>
                        </div>
                        <div class="deliverer-status status-${entregador.status || 'ativo'}">
                            ${getStatusNome(entregador.status || 'ativo')}
                        </div>
                    </div>
                    
                    <div class="deliverer-details">
                        <div class="detail-group">
                            <h5>üìç Endere√ßo</h5>
                            <p>${entregador.endereco || 'Endere√ßo n√£o informado'}</p>
                        </div>
                        
                        <div class="detail-group">
                            <h5>üÜî CPF</h5>
                            <p>${entregador.cpf || 'CPF n√£o informado'}</p>
                        </div>
                        
                        <div class="detail-group">
                            <h5>‚≠ê Avalia√ß√£o</h5>
                            <p>${entregador.avaliacao ? entregador.avaliacao.toFixed(1) : '0.0'} 
                               (${entregador.totalAvaliacoes || 0} avalia√ß√µes)</p>
                        </div>
                        
                        <div class="detail-group">
                            <h5>üì¶ Total de Entregas</h5>
                            <p>${entregador.totalEntregas || 0}</p>
                        </div>
                        
                        <div class="detail-group">
                            <h5>üí∞ Total de Ganhos</h5>
                            <p>R$ ${(entregador.totalGanhos || 0).toFixed(2)}</p>
                        </div>
                        
                        <div class="detail-group">
                            <h5>üìÖ Data de Cadastro</h5>
                            <p>${entregador.dataCadastro ? new Date(entregador.dataCadastro.toDate()).toLocaleDateString('pt-BR') : 'Data n√£o informada'}</p>
                        </div>
                    </div>
                    
                    <div class="deliverer-actions">
                        <button class="action-btn btn-edit" onclick="editarEntregador('${entregador.id}')">‚úèÔ∏è Editar</button>
                        ${entregador.status === 'ativo' ? 
                            `<button class="action-btn btn-suspend" onclick="alterarStatus('${entregador.id}', 'inativo')">‚è∏Ô∏è Suspender</button>` :
                            `<button class="action-btn btn-activate" onclick="alterarStatus('${entregador.id}', 'ativo')">‚úÖ Ativar</button>`
                        }
                        <button class="action-btn btn-delete" onclick="deletarEntregador('${entregador.id}')">üóëÔ∏è Deletar</button>
                    </div>
                </div>
            `).join('');
        }

        function getVeiculoNome(veiculo) {
            const veiculos = {
                'moto': 'Moto',
                'carro': 'Carro',
                'bicicleta': 'Bicicleta'
            };
            return veiculos[veiculo] || veiculo || 'N√£o informado';
        }

        function getStatusNome(status) {
            switch (status) {
                case 'ativo': return 'Ativo';
                case 'inativo': return 'Inativo';
                case 'disponivel': return 'Dispon√≠vel';
                case 'indisponivel': return 'Indispon√≠vel';
                default: return 'Ativo';
            }
        }

        function abrirModalEntregador() {
            entregadorEditando = null;
            document.getElementById('modalTitle').textContent = 'Adicionar Entregador';
            document.getElementById('delivererForm').reset();
            document.getElementById('delivererModal').style.display = 'block';
        }

        function fecharModal() {
            document.getElementById('delivererModal').style.display = 'none';
            entregadorEditando = null;
        }

        async function salvarEntregador(event) {
            event.preventDefault();
            
            const btn = document.getElementById('saveBtn');
            btn.disabled = true;
            btn.textContent = 'üîÑ Salvando...';
            
            try {
                const dados = {
                    nome: document.getElementById('modal-nome').value,
                    email: document.getElementById('modal-email').value,
                    telefone: document.getElementById('modal-telefone').value,
                    cpf: document.getElementById('modal-cpf').value,
                    veiculo: document.getElementById('modal-veiculo').value,
                    endereco: document.getElementById('modal-endereco').value,
                    status: document.getElementById('modal-status').value,
                    dataAtualizacao: new Date()
                };
                
                if (entregadorEditando) {
                    await db.collection('entregadores').doc(entregadorEditando.id).update(dados);
                    await db.collection('usuarios').doc(entregadorEditando.id).update(dados);
                    mostrarMensagem('Entregador atualizado com sucesso!', 'success');
                } else {
                    const senha = document.getElementById('modal-senha').value;
                    const confirmarSenha = document.getElementById('modal-confirmar-senha').value;
                    
                    if (senha !== confirmarSenha) {
                        mostrarMensagem('As senhas n√£o coincidem', 'error');
                        return;
                    }
                    
                    const userCredential = await auth.createUserWithEmailAndPassword(dados.email, senha);
                    const user = userCredential.user;
                    
                    dados.uid = user.uid;
                    dados.dataCadastro = new Date();
                    dados.ativo = dados.status === 'ativo';
                    dados.disponivel = true;
                    dados.avaliacao = 0;
                    dados.totalAvaliacoes = 0;
                    dados.totalEntregas = 0;
                    dados.totalGanhos = 0;
                    
                    await db.collection('usuarios').doc(user.uid).set({
                        ...dados,
                        tipo: 'entregador'
                    });
                    
                    await db.collection('entregadores').doc(user.uid).set(dados);
                    
                    mostrarMensagem('Entregador criado com sucesso!', 'success');
                }
                
                fecharModal();
                
            } catch (error) {
                console.error('Erro ao salvar entregador:', error);
                mostrarMensagem('Erro ao salvar entregador: ' + error.message, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'üíæ Salvar';
            }
        }

        async function editarEntregador(entregadorId) {
            const entregador = entregadores.find(e => e.id === entregadorId);
            if (!entregador) return;
            
            entregadorEditando = entregador;
            document.getElementById('modalTitle').textContent = 'Editar Entregador';
            
            document.getElementById('modal-nome').value = entregador.nome || '';
            document.getElementById('modal-email').value = entregador.email || '';
            document.getElementById('modal-telefone').value = entregador.telefone || '';
            document.getElementById('modal-cpf').value = entregador.cpf || '';
            document.getElementById('modal-veiculo').value = entregador.veiculo || '';
            document.getElementById('modal-endereco').value = entregador.endereco || '';
            document.getElementById('modal-status').value = entregador.status || 'ativo';
            
            document.getElementById('modal-senha').parentNode.style.display = 'none';
            document.getElementById('modal-confirmar-senha').parentNode.style.display = 'none';
            
            document.getElementById('delivererModal').style.display = 'block';
        }

        async function alterarStatus(entregadorId, novoStatus) {
            try {
                await db.collection('entregadores').doc(entregadorId).update({
                    status: novoStatus,
                    ativo: novoStatus === 'ativo',
                    dataAtualizacao: new Date()
                });
                
                await db.collection('usuarios').doc(entregadorId).update({
                    status: novoStatus,
                    ativo: novoStatus === 'ativo',
                    dataAtualizacao: new Date()
                });
                
                mostrarMensagem(`Status alterado para ${getStatusNome(novoStatus)}`, 'success');
                
            } catch (error) {
                console.error('Erro ao alterar status:', error);
                mostrarMensagem('Erro ao alterar status', 'error');
            }
        }

        async function deletarEntregador(entregadorId) {
            if (!confirm('Tem certeza que deseja deletar este entregador? Esta a√ß√£o n√£o pode ser desfeita.')) {
                return;
            }
            
            try {
                await db.collection('entregadores').doc(entregadorId).delete();
                await db.collection('usuarios').doc(entregadorId).delete();
                mostrarMensagem('Entregador deletado com sucesso!', 'success');
                
            } catch (error) {
                console.error('Erro ao deletar entregador:', error);
                mostrarMensagem('Erro ao deletar entregador', 'error');
            }
        }

        function mostrarMensagem(texto, tipo) {
            const mensagem = document.createElement('div');
            mensagem.className = `message ${tipo}`;
            mensagem.textContent = texto;
            
            document.body.appendChild(mensagem);
            
            setTimeout(() => {
                if (mensagem.parentNode) {
                    mensagem.remove();
                }
            }, 3000);
        }

        function voltarParaHome() {
            if (unsubscribeEntregadores) {
                unsubscribeEntregadores();
            }
            window.location.href = 'home_admin.html';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('delivererModal');
            if (event.target === modal) {
                fecharModal();
            }
        }
    </script>
</body>
</html>
